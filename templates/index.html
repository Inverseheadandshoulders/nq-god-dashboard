<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NQ GOD | Institutional Terminal</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/static/css/styles.css">
</head>

<body>
    <!-- Verification Gate Modal -->
    <div id="verificationModal" class="verification-modal" style="display: none;">
        <div class="verification-overlay"></div>
        <div class="verification-content">
            <div class="verification-header">
                <div class="verification-logo">NQ<span>GOD</span></div>
                <h2>Access Verification Required</h2>
                <p>To access the NQ GOD Institutional Terminal, please verify your membership:</p>
            </div>

            <div class="verification-steps">
                <!-- Step 1: Discord -->
                <div class="verification-step" id="discordStep">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>Join Our Discord</h3>
                        <p>Join our community server to get verified</p>
                        <div class="step-status" id="discordStatus">
                            <span class="status-pending">‚è≥ Not Verified</span>
                        </div>
                        <a href="/api/verify/discord" class="verify-btn discord-btn" id="discordVerifyBtn">
                            <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                                <path
                                    d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z" />
                            </svg>
                            Verify Discord
                        </a>
                    </div>
                </div>

                <!-- Step 2: YouTube -->
                <div class="verification-step" id="youtubeStep">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>Subscribe on YouTube</h3>
                        <p>Subscribe to our channel for market updates</p>
                        <div class="step-status" id="youtubeStatus">
                            <span class="status-pending">‚è≥ Not Verified</span>
                        </div>
                        <a href="https://www.youtube.com/channel/UCR_htRNBadl0Odpp74YwBoA?sub_confirmation=1"
                            target="_blank" class="verify-btn youtube-btn" id="youtubeSubBtn">
                            <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                                <path
                                    d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z" />
                            </svg>
                            Subscribe
                        </a>
                        <button class="verify-btn confirm-btn" id="youtubeConfirmBtn" style="margin-top: 10px;">
                            ‚úì I've Subscribed - Confirm
                        </button>
                    </div>
                </div>
            </div>

            <div class="verification-footer">
                <p id="verificationMessage">Complete both steps to access the terminal</p>
                <button class="enter-btn" id="enterTerminalBtn" disabled>Enter Terminal</button>
            </div>
        </div>
    </div>

    <div class="app">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <div class="logo">NQ<span>GOD</span></div>
                <div class="version">v2.0</div>
            </div>

            <div class="sidebar-search">
                <input type="text" id="globalSearch" placeholder="Search ticker...">
            </div>

            <div class="nav-section">
                <div class="nav-section-title">MARKET</div>
                <a class="nav-item active" data-view="dashboard">
                    <span class="nav-icon">‚óâ</span>
                    <span>Dashboard</span>
                </a>
                <a class="nav-item" data-view="overview">
                    <span class="nav-icon">‚óé</span>
                    <span>Stock Overview</span>
                </a>
                <a class="nav-item" data-view="heatmap">
                    <span class="nav-icon">‚ñ¶</span>
                    <span>S&P 500 Heatmap</span>
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">OPTIONS</div>
                <a class="nav-item" data-view="gex">
                    <span class="nav-icon">Œì</span>
                    <span>GEX Levels</span>
                </a>
                <a class="nav-item" data-view="flow">
                    <span class="nav-icon">‚Üí</span>
                    <span>Options Flow</span>
                </a>
                <a class="nav-item" data-view="chain">
                    <span class="nav-icon">‚äû</span>
                    <span>Options Chain</span>
                </a>
                <a class="nav-item" data-view="contract">
                    <span class="nav-icon">üîç</span>
                    <span>Contract Lookup</span>
                </a>
                <a class="nav-item" data-view="darkpool">
                    <span class="nav-icon">‚óè</span>
                    <span>Dark Pool</span>
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">FLOW</div>
                <a class="nav-item" data-view="blocks">
                    <span class="nav-icon">‚ñ†</span>
                    <span>Block Trades</span>
                </a>
                <a class="nav-item" data-view="intelligence">
                    <span class="nav-icon">üß†</span>
                    <span>Intelligence</span>
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">RESEARCH</div>
                <a class="nav-item" data-view="seasonality">
                    <span class="nav-icon">~</span>
                    <span>Seasonality</span>
                </a>
                <a class="nav-item" data-view="earnings">
                    <span class="nav-icon">$</span>
                    <span>Earnings</span>
                </a>
                <a class="nav-item" data-view="econ">
                    <span class="nav-icon">üìÖ</span>
                    <span>Economic Calendar</span>
                </a>
                <a class="nav-item" data-view="surface">
                    <span class="nav-icon">‚óá</span>
                    <span>Vol Surface 3D</span>
                </a>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Top Bar -->
            <header class="topbar">
                <div class="topbar-left">
                    <div class="ticker-display">
                        <input type="text" id="tickerInput" placeholder="SPY" value="SPY">
                        <button id="tickerGo">GO</button>
                    </div>
                    <div class="ticker-info">
                        <span class="ticker-symbol" id="currentSymbol">SPY</span>
                        <span class="ticker-price" id="currentPrice">$0.00</span>
                        <span class="ticker-change" id="currentChange">0.00%</span>
                    </div>
                </div>
                <div class="topbar-center">
                    <div class="market-mini">
                        <div class="market-mini-item"><span class="label">SPY</span><span class="value"
                                id="miniSPY">--</span></div>
                        <div class="market-mini-item"><span class="label">QQQ</span><span class="value"
                                id="miniQQQ">--</span></div>
                        <div class="market-mini-item"><span class="label">VIX</span><span class="value"
                                id="miniVIX">--</span></div>
                    </div>
                </div>
                <div class="topbar-right">
                    <div class="connection-status" id="connectionStatus">
                        <span class="status-dot"></span>
                        <span>Hollow Point Data Loading...</span>
                    </div>
                    <div class="market-time" id="marketTime">--:--:--</div>
                </div>
            </header>

            <!-- View Container -->
            <div class="view-container">

                <!-- ==================== DASHBOARD ==================== -->
                <div class="view active" id="view-dashboard">
                    <div class="gex-controls-bar">
                        <div class="gex-symbol-display">
                            <span id="dashSymbol">SPY</span>
                            <span class="gex-subtitle">GEX Levels</span>
                        </div>
                        <div class="gex-toggles">
                            <label class="toggle-item">
                                <input type="checkbox" id="toggle0DTE" checked>
                                <span>Remove 0 DTE</span>
                            </label>
                        </div>
                        <div class="gex-mode-toggles">
                            <label class="toggle-item"><input type="checkbox" id="toggleNetGex" checked><span>Net
                                    GEX</span></label>
                            <label class="toggle-item"><input type="checkbox" id="toggleGrossGex"><span>Gross
                                    GEX</span></label>
                            <label class="toggle-item"><input type="checkbox" id="toggleTotalGamma"><span>Total
                                    Gamma</span></label>
                        </div>
                    </div>

                    <div class="ohlc-bar">
                        <span class="ohlc-item">O <span id="ohlcOpen">--</span></span>
                        <span class="ohlc-item">H <span id="ohlcHigh">--</span></span>
                        <span class="ohlc-item">L <span id="ohlcLow">--</span></span>
                        <span class="ohlc-item">C <span id="ohlcClose">--</span></span>
                        <span class="ohlc-item">EMA 50 <span id="ohlcEma">--</span></span>
                    </div>

                    <div class="dashboard-main-grid">
                        <div class="chart-panel">
                            <div id="dashChart" style="height: 100%;"></div>
                        </div>
                        <div class="gex-panel">
                            <div class="gex-legend">
                                <span><span class="legend-dot put"></span> Put GEX</span>
                                <span><span class="legend-dot call"></span> Call GEX</span>
                                <span><span class="legend-line zero"></span> Zero Gamma</span>
                            </div>
                            <div id="dashGex" style="height: calc(100% - 30px);"></div>
                        </div>
                    </div>

                    <div class="key-levels-row">
                        <div class="key-level zero-gamma"><span class="level-label">Zero Gamma</span><span
                                class="level-value" id="lvlZeroGamma">--</span></div>
                        <div class="key-level max-gamma"><span class="level-label">Max Gamma</span><span
                                class="level-value" id="lvlMaxGamma">--</span></div>
                        <div class="key-level put-wall"><span class="level-label">Put Wall</span><span
                                class="level-value" id="lvlPutWall">--</span></div>
                        <div class="key-level call-wall"><span class="level-label">Call Wall</span><span
                                class="level-value" id="lvlCallWall">--</span></div>
                        <div class="key-level vol-trigger"><span class="level-label">Vol Trigger</span><span
                                class="level-value" id="lvlVolTrigger">--</span></div>
                    </div>

                    <div class="stats-row">
                        <div class="stat-item"><span class="stat-label">Net GEX</span><span class="stat-value"
                                id="statNetGex">--</span></div>
                        <div class="stat-item"><span class="stat-label">Gross GEX</span><span class="stat-value"
                                id="statGrossGex">--</span></div>
                        <div class="stat-item"><span class="stat-label">Put/Call OI</span><span class="stat-value"
                                id="statPCR">--</span></div>
                        <div class="stat-item"><span class="stat-label">IV Rank</span><span class="stat-value"
                                id="statIVR">--</span></div>
                        <div class="stat-item"><span class="stat-label">Regime</span><span class="stat-value"
                                id="statRegime">--</span></div>
                    </div>

                    <div class="flow-panel">
                        <div class="panel-header">Recent Flow</div>
                        <div id="dashFlow" class="scrollable"></div>
                    </div>
                </div>

                <!-- ==================== STOCK OVERVIEW ==================== -->
                <div class="view" id="view-overview">
                    <div class="overview-container">
                        <div class="overview-header-row">
                            <div class="overview-ticker-info">
                                <span class="ov-symbol" id="ovSymbol">SPY</span>
                                <span class="ov-price" id="ovPrice">$0.00</span>
                                <span class="ov-change" id="ovChange">0.00%</span>
                            </div>
                            <div class="overview-tabs">
                                <button class="ov-tab active">Overview</button>
                                <button class="ov-tab">GEX/DEX</button>
                                <button class="ov-tab">Seasonality</button>
                                <button class="ov-tab">Greeks</button>
                            </div>
                        </div>

                        <div class="overview-main-grid">
                            <div class="ov-chart-area">
                                <div id="ovChart" style="height: 350px;"></div>
                            </div>
                            <div class="ov-stats-sidebar" id="ovStats"></div>
                        </div>

                        <div class="performance-section">
                            <div class="perf-header">
                                <span class="perf-title">Performance</span>
                                <button class="compare-btn">‚Üó Compare</button>
                            </div>
                            <div class="perf-table">
                                <div class="perf-row header">
                                    <span>Ticker</span><span>1 Week</span><span>1 Month</span><span>3 Months</span>
                                    <span>6 Months</span><span>YTD</span><span>1 Year</span><span>5 Years</span>
                                </div>
                                <div class="perf-row data" id="ovPerfRow"></div>
                            </div>
                        </div>

                        <div class="contracts-grid">
                            <div class="contracts-panel">
                                <div class="contracts-header"><span id="ovHighVolTitle">Highest Volume Contracts</span>
                                </div>
                                <table class="contracts-table" id="ovHighVolTable">
                                    <thead>
                                        <tr>
                                            <th>Chain</th>
                                            <th>Last</th>
                                            <th>Low-High</th>
                                            <th>Volume</th>
                                            <th>OI</th>
                                            <th>Bid/Ask</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                            <div class="contracts-panel">
                                <div class="contracts-header"><span id="ovHighOITitle">Highest OI Contracts</span></div>
                                <table class="contracts-table" id="ovHighOITable">
                                    <thead>
                                        <tr>
                                            <th>Chain</th>
                                            <th>Last</th>
                                            <th>Low-High</th>
                                            <th>Volume</th>
                                            <th>OI</th>
                                            <th>Bid/Ask</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>

                        <div class="historical-section">
                            <div class="hist-header"><span id="ovHistTitle">Historical Data</span></div>
                            <div class="hist-table-wrapper">
                                <table class="historical-table" id="ovHistTable">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Open</th>
                                            <th>High</th>
                                            <th>Low</th>
                                            <th>Close</th>
                                            <th>% Change</th>
                                            <th>P/C</th>
                                            <th>Volume</th>
                                            <th>C Vol</th>
                                            <th>P Vol</th>
                                            <th>Vol/30D</th>
                                            <th>Bear/Bull</th>
                                            <th>Total OI</th>
                                            <th>% OI</th>
                                            <th>C OI</th>
                                            <th>P OI</th>
                                            <th>IVR</th>
                                            <th>Vol 30D</th>
                                            <th>Imp 30D</th>
                                            <th>Vol 60D</th>
                                            <th>Imp 60D</th>
                                            <th>Net Prem</th>
                                            <th>Total Prem</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ==================== SEASONALITY ==================== -->
                <div class="view" id="view-seasonality">
                    <div class="season-container">
                        <div class="season-header">
                            <span id="seasonSymbol">SPY</span>
                            <span class="season-subtitle">Seasonality</span>
                        </div>

                        <div class="season-main-grid">
                            <!-- Heatmap -->
                            <div class="season-panel heatmap-panel">
                                <div class="panel-title">Monthly Returns Heatmap</div>
                                <div id="seasonHeatmap"></div>
                            </div>

                            <!-- Distribution by Year -->
                            <div class="season-panel dist-panel">
                                <div class="panel-title">Distribution of Daily % Changes</div>
                                <div id="seasonDistribution" style="height: 300px;"></div>
                            </div>
                        </div>

                        <!-- Growth Chart -->
                        <div class="season-panel growth-panel">
                            <div id="seasonGrowthChart" style="height: 300px;"></div>
                        </div>

                        <div class="season-bottom-grid">
                            <!-- Monthly Bars -->
                            <div class="season-panel">
                                <div id="seasonMonthlyBars" style="height: 250px;"></div>
                            </div>

                            <!-- Daily Distribution -->
                            <div class="season-panel">
                                <div id="seasonDailyDist" style="height: 250px;"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ==================== BLOCK TRADES ==================== -->
                <div class="view" id="view-blocks">
                    <div class="blocks-container">
                        <div class="blocks-header">
                            <h2>Block Trades</h2>
                            <div class="blocks-controls">
                                <select id="blockMinSize">
                                    <option value="10000">10K+ shares</option>
                                    <option value="50000">50K+ shares</option>
                                    <option value="100000">100K+ shares</option>
                                </select>
                            </div>
                        </div>

                        <div class="blocks-table-wrapper">
                            <table class="blocks-table">
                                <thead>
                                    <tr>
                                        <th>TIME</th>
                                        <th>SYMBOL</th>
                                        <th>PRICE</th>
                                        <th>SIZE</th>
                                        <th>NOTIONAL</th>
                                        <th>EXCHANGE</th>
                                        <th>TYPE</th>
                                    </tr>
                                </thead>
                                <tbody id="blockTradesTable"></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- ==================== OPTIONS FLOW ==================== -->
                <div class="view" id="view-flow">
                    <div class="flow-container">
                        <div class="flow-header">
                            <h2>Options Flow</h2>
                            <div class="flow-stats">
                                <div class="flow-stat"><span>Put/Call:</span> <span id="flowPCRatio">0.65</span></div>
                                <div class="flow-stat"><span id="flowSentiment" class="bullish">BULLISH</span></div>
                            </div>
                        </div>

                        <!-- Filter Buttons -->
                        <div class="flow-filters">
                            <button class="filter-btn active" data-filter="all">All</button>
                            <button class="filter-btn" data-filter="etfs">ETFs</button>
                            <button class="filter-btn" data-filter="stocks">Stocks</button>
                            <button class="filter-btn" data-filter="sweeps">Sweeps</button>
                            <button class="filter-btn" data-filter="calls">Calls</button>
                            <button class="filter-btn" data-filter="puts">Puts</button>
                            <button class="filter-btn" data-filter="bid">Bid</button>
                            <button class="filter-btn" data-filter="ask">Ask</button>
                            <button class="filter-btn" data-filter="unusual">Unusual</button>
                            <button class="filter-btn" data-filter="100k">100K+</button>
                            <button class="filter-btn" data-filter="whales">Whales</button>
                            <button class="filter-btn" data-filter="leaps">LEAPS</button>
                        </div>

                        <div class="flow-table-wrapper">
                            <table class="flow-table flow-table-full">
                                <thead>
                                    <tr>
                                        <th>Time</th>
                                        <th>Value</th>
                                        <th>Ticker</th>
                                        <th>Spot</th>
                                        <th>Strike</th>
                                        <th>C/P</th>
                                        <th>Exp</th>
                                        <th>Type</th>
                                        <th>Price</th>
                                        <th>Size</th>
                                        <th>Score</th>
                                        <th>Œî</th>
                                        <th>Volume</th>
                                        <th>OI</th>
                                        <th>IV</th>
                                        <th>OTM</th>
                                        <th>Sentiment</th>
                                    </tr>
                                </thead>
                                <tbody id="flowTable"></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- ==================== OTHER VIEWS ==================== -->
                <div class="view" id="view-heatmap">
                    <div class="view-header">
                        <h2>S&P 500 Heatmap</h2>
                    </div>
                    <div id="sp500Heatmap" class="heatmap-content"></div>
                </div>

                <div class="view" id="view-gex">
                    <!-- GEX Page - GeeksOfFinance Style -->

                    <!-- Top Bar: Ticker + OHLC -->
                    <div class="gof-topbar">
                        <div class="gof-ticker-section">
                            <select id="gofSymbolSelect" class="gof-symbol-select">
                                <option value="SPX">^SPX</option>
                                <option value="SPY">SPY</option>
                                <option value="QQQ">QQQ</option>
                                <option value="IWM">IWM</option>
                                <option value="NVDA">NVDA</option>
                                <option value="AAPL">AAPL</option>
                                <option value="TSLA">TSLA</option>
                            </select>
                            <span class="gof-dte-label">0 DTE GEX Levels</span>
                            <select id="gofEmaSelect" class="gof-ema-select">
                                <option value="EMA">EMA</option>
                                <option value="SMA">SMA</option>
                            </select>
                            <input type="number" id="gofEmaPeriod" class="gof-ema-period" value="50">
                        </div>
                        <div class="gof-ohlc">
                            <span class="ohlc-item">O <span id="gofOpen">6904.11</span></span>
                            <span class="ohlc-item">H <span id="gofHigh" class="positive">6905.54</span></span>
                            <span class="ohlc-item">L <span id="gofLow" class="negative">6903.80</span></span>
                            <span class="ohlc-item">C <span id="gofClose">6905.74</span></span>
                            <span class="ohlc-time" id="gofTime">12/29/25 03:55 PM</span>
                        </div>
                        <div class="gof-ema-value">
                            <span>EMA 50</span>
                            <span class="ema-price" id="gofEmaValue">6905.61</span>
                        </div>
                    </div>

                    <!-- Main Layout: Chart | GEX Profile | Customize Panel -->
                    <!-- TAB CONTENT: GEX Levels (default) -->
                    <div class="gof-tab-content active" id="gof-content-levels">
                        <div class="gof-main-layout">

                            <!-- LEFT: Price Chart with Gamma Zones -->
                            <div class="gof-chart-section">
                                <div id="gofPriceChart" class="gof-price-chart"></div>
                            </div>

                            <!-- CENTER: Dual GEX Profile (Butterfly) -->
                            <div class="gof-profile-section">
                                <div id="gofGexProfile" class="gof-gex-profile"></div>
                            </div>

                            <!-- RIGHT: Customize Chart Panel -->
                            <div class="gof-customize-panel">
                                <div class="customize-header">
                                    <span>Watchlist</span>
                                    <button class="watchlist-btn">+</button>
                                </div>
                                <div class="customize-tabs">
                                    <span class="tab active">Ticker</span>
                                    <span class="tab">Last</span>
                                    <span class="tab">Change Change %</span>
                                </div>
                                <div class="customize-title">Customize Chart</div>
                                <div class="customize-toggles">
                                    <div class="toggle-row">
                                        <span>GEX Clusters/Levels</span>
                                        <label class="toggle-switch"><input type="checkbox" id="togClusters"
                                                checked><span class="slider"></span></label>
                                        <span class="toggle-label-right">Clusters</span>
                                    </div>
                                    <div class="toggle-row">
                                        <span>Absolute GEX</span>
                                        <label class="toggle-switch"><input type="checkbox" id="togAbsoluteGex"
                                                checked><span class="slider"></span></label>
                                    </div>
                                    <div class="toggle-row">
                                        <span>Volume Switch</span>
                                        <label class="toggle-switch"><input type="checkbox" id="togVolume" checked><span
                                                class="slider"></span></label>
                                    </div>
                                    <div class="toggle-row">
                                        <span>Watchlist</span>
                                        <label class="toggle-switch"><input type="checkbox" id="togWatchlist"
                                                checked><span class="slider"></span></label>
                                    </div>
                                    <div class="toggle-row">
                                        <span>Technicals</span>
                                        <label class="toggle-switch"><input type="checkbox" id="togTechnicals"
                                                checked><span class="slider"></span></label>
                                    </div>
                                    <div class="toggle-row">
                                        <span>Dealer Cluster</span>
                                        <label class="toggle-switch"><input type="checkbox" id="togDealerCluster"
                                                checked><span class="slider"></span></label>
                                    </div>
                                    <div class="toggle-row">
                                        <span>Algorithms</span>
                                        <label class="toggle-switch"><input type="checkbox" id="togAlgorithms"><span
                                                class="slider"></span></label>
                                    </div>
                                    <div class="toggle-row">
                                        <span>Timeframe</span>
                                        <select id="gofBucketSelect" class="gof-bucket-select">
                                            <option value="TOTAL">Total</option>
                                            <option value="0DTE">0 DTE</option>
                                            <option value="WEEKLY">Weekly</option>
                                        </select>
                                    </div>
                                    <div class="toggle-row">
                                        <span>Gross/Net GEX</span>
                                        <label class="toggle-switch"><input type="checkbox" id="togGrossNet"
                                                checked><span class="slider"></span></label>
                                    </div>
                                    <div class="toggle-row">
                                        <span>Time Machine</span>
                                        <label class="toggle-switch"><input type="checkbox" id="togTimeMachine"><span
                                                class="slider"></span></label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- TAB CONTENT: Flow/Historical -->
                    <div class="gof-tab-content" id="gof-content-flow">
                        <div class="gof-flow-layout">
                            <div class="gof-flow-chart">
                                <div class="flow-chart-header">0DTE GEX Flow</div>
                                <div id="gofFlowChart" style="height: 300px;"></div>
                            </div>
                            <div class="gof-historical-chart">
                                <div class="flow-chart-header">Historical GEX</div>
                                <div id="gofHistoricalChart" style="height: 300px;"></div>
                            </div>
                        </div>
                    </div>

                    <!-- TAB CONTENT: Data Graph -->
                    <div class="gof-tab-content" id="gof-content-data">
                        <div class="gof-data-layout">
                            <div class="gof-gauge-row">
                                <div class="gof-gauge">
                                    <div class="gauge-title">GEX Intensity</div>
                                    <div id="gofIntensityGauge" style="height: 200px;"></div>
                                </div>
                                <div class="gof-gauge">
                                    <div class="gauge-title">GEX Weighted Volatility</div>
                                    <div id="gofVolatilityGauge" style="height: 200px;"></div>
                                </div>
                            </div>
                            <div class="gof-strike-distribution">
                                <div class="dist-title">Strike Distribution</div>
                                <div id="gofStrikeDistribution" style="height: 300px;"></div>
                            </div>
                        </div>
                    </div>

                    <!-- TAB CONTENT: 3D Surface Model -->
                    <div class="gof-tab-content" id="gof-content-surface">
                        <div class="gof-surface-container">
                            <div id="gof3DSurface" style="height: 550px;"></div>
                        </div>
                    </div>

                    <!-- Time Machine Slider (shows when toggle enabled) -->
                    <div class="gof-time-machine" id="gofTimeMachineContainer" style="display:none;">
                        <span class="tm-label">Time Machine</span>
                        <input type="range" id="gofTimeMachineSlider" min="0" max="390" value="390">
                        <span id="gofTimeMachineValue">LIVE</span>
                    </div>

                    <!-- Bottom Tabs -->
                    <div class="gof-bottom-tabs">
                        <button class="gof-tab active" data-goftab="levels">GEX Levels</button>
                        <span class="tab-divider">|</span>
                        <button class="gof-tab" data-goftab="flow">Flow/Historical</button>
                        <span class="tab-divider">|</span>
                        <button class="gof-tab" data-goftab="data">Data Graph</button>
                        <span class="tab-divider">|</span>
                        <button class="gof-tab" data-goftab="surface">3D Surface Model</button>
                    </div>
                </div>

                <div class="view" id="view-chain">
                    <div class="view-header">
                        <h2>Options Chain</h2>
                    </div>
                    <div id="chainContent"></div>
                </div>

                <!-- Contract Lookup View (Unusual Whales Style) -->
                <div class="view" id="view-contract">
                    <div class="view-header">
                        <h2>Contract Lookup</h2>
                    </div>
                    <div class="contract-layout">
                        <div class="contract-search-section">
                            <div class="contract-search-bar">
                                <input type="text" id="contractSearchInput" placeholder="Search SPY, QQQ, NVDA..."
                                    class="contract-input">
                                <select id="contractExpSelect" class="contract-select">
                                    <option value="2025-01-31">01/31/2025</option>
                                    <option value="2025-02-21">02/21/2025</option>
                                    <option value="2025-03-21">03/21/2025</option>
                                    <option value="2025-06-20">06/20/2025</option>
                                </select>
                                <input type="number" id="contractStrikeInput" placeholder="Strike"
                                    class="contract-input strike-input">
                                <select id="contractTypeSelect" class="contract-select">
                                    <option value="C">Call</option>
                                    <option value="P">Put</option>
                                </select>
                                <button id="contractSearchBtn" class="contract-btn">Search</button>
                            </div>
                            <div id="contractAutocomplete" class="contract-autocomplete"></div>
                        </div>

                        <div class="contract-detail" id="contractDetail" style="display:none;">
                            <div class="contract-header" id="contractHeader">SPY $590 C 01/31/2025</div>

                            <div class="contract-charts">
                                <div id="contractPriceChart" class="contract-chart"></div>
                            </div>

                            <div class="contract-metrics-grid">
                                <div class="metric-panel">
                                    <div class="metric-title">Probability of Profit</div>
                                    <div class="metric-value" id="contractPOP">--</div>
                                </div>
                                <div class="metric-panel">
                                    <div class="metric-title">Kelly Position Sizing</div>
                                    <div class="metric-details">
                                        <div><span>Full Kelly:</span><strong id="contractFullKelly">--</strong></div>
                                        <div><span>Half Kelly:</span><strong id="contractHalfKelly">--</strong></div>
                                        <div><span>Quarter Kelly:</span><strong id="contractQuarterKelly">--</strong>
                                        </div>
                                    </div>
                                </div>
                                <div class="metric-panel">
                                    <div class="metric-title">Position Metrics</div>
                                    <div class="metric-details">
                                        <div><span>Delta Ratio:</span><strong id="contractDeltaRatio">--</strong></div>
                                        <div><span>Vol Adjustment:</span><strong id="contractVolAdj">--</strong></div>
                                        <div><span>Margin Factor:</span><strong id="contractMarginFactor">--</strong>
                                        </div>
                                    </div>
                                </div>
                                <div class="metric-panel">
                                    <div class="metric-title">Profit Probabilities</div>
                                    <div class="metric-details">
                                        <div><span>Profit Prob:</span><strong id="contractProfitProb">--</strong></div>
                                        <div><span>Loss Prob:</span><strong id="contractLossProb">--</strong></div>
                                    </div>
                                </div>
                            </div>

                            <div class="contract-risk-grid">
                                <div class="risk-panel">
                                    <div class="risk-title">Risk/Reward Profile</div>
                                    <div class="risk-values">
                                        <div class="risk-item gain">
                                            <span>Max Potential Gain</span>
                                            <strong id="contractMaxGain">--</strong>
                                        </div>
                                        <div class="risk-item loss">
                                            <span>Max Potential Loss</span>
                                            <strong id="contractMaxLoss">--</strong>
                                        </div>
                                    </div>
                                </div>
                                <div class="strategy-panel">
                                    <div class="strategy-title">Strategy Identified</div>
                                    <div class="strategy-value" id="contractStrategy">--</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="view" id="view-darkpool">
                    <div class="view-header">
                        <h2>Dark Pool & Order Flow</h2>
                        <div class="dp-legend">
                            <span><span class="dot green"></span> Buy</span>
                            <span><span class="dot red"></span> Sell</span>
                            <span><span class="dot blue"></span> Block</span>
                            <span><span class="dot cyan"></span> Sweep</span>
                        </div>
                    </div>
                    <div class="dp-layout">
                        <div id="dpBubbleChart" class="dp-bubble-chart"></div>
                        <div class="dp-split-panel">
                            <div class="dp-flow-panel">
                                <div class="panel-title-bar">Options Flow</div>
                                <div id="dpOptionsFlow" class="dp-flow-list"></div>
                            </div>
                            <div class="dp-prints-panel">
                                <div class="panel-title-bar">Dark Pool Prints</div>
                                <div id="dpPrintsList" class="dp-flow-list"></div>
                            </div>
                        </div>
                        <div id="dpClusters" class="dp-clusters"></div>
                    </div>
                </div>

                <!-- Market Intelligence View -->
                <div class="view" id="view-intelligence">
                    <div class="view-header">
                        <h2>Market Intelligence</h2>
                        <div class="intel-header-controls">
                            <button id="intelScanBtn" class="intel-btn">Scan Now</button>
                            <button id="intelArchiveBtn" class="intel-btn secondary">Save Scan</button>
                            <span id="intelStatus">Ready</span>
                        </div>
                    </div>
                    <div class="intel-layout">
                        <!-- Prediction Engine -->
                        <div class="prediction-engine">
                            <div class="panel-header">Prediction Engine</div>
                            <div id="predictionSignals" class="prediction-grid">
                                <div class="prediction-card">
                                    <div class="pred-symbol">SPY</div>
                                    <div class="pred-direction bullish">BULLISH</div>
                                    <div class="pred-targets">
                                        <div class="pred-row"><span>Entry:</span><span id="predEntry">$685.50</span>
                                        </div>
                                        <div class="pred-row"><span>Target:</span><span id="predTarget"
                                                class="positive">$598.00</span></div>
                                        <div class="pred-row"><span>Stop:</span><span id="predStop"
                                                class="negative">$588.00</span></div>
                                    </div>
                                    <div class="pred-metrics">
                                        <div class="pred-metric"><span>R/R:</span><span>1.85</span></div>
                                        <div class="pred-metric"><span>Win %:</span><span>72%</span></div>
                                        <div class="pred-metric"><span>EV:</span><span class="positive">+$1.24</span>
                                        </div>
                                    </div>
                                    <div class="pred-factors">
                                        <span class="factor positive">GEX Supportive</span>
                                        <span class="factor positive">Call Flow</span>
                                        <span class="factor neutral">Seasonality</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="intel-grid">
                            <div class="intel-panel signals-panel">
                                <div class="panel-header">Active Signals</div>
                                <div id="intelSignals" class="signals-list"></div>
                            </div>
                            <div class="intel-panel news-panel">
                                <div class="panel-header">News Feed</div>
                                <div id="intelNews" class="news-list"></div>
                            </div>
                            <div class="intel-panel patterns-panel">
                                <div class="panel-header">Pattern Performance</div>
                                <div id="intelPatterns" class="patterns-list"></div>
                            </div>
                        </div>

                        <!-- Archived Scans -->
                        <div class="archived-scans">
                            <div class="panel-header">Archived Scans</div>
                            <div id="archivedScansList" class="archived-list"></div>
                        </div>
                    </div>
                </div>

                <div class="view" id="view-earnings">
                    <div class="view-header">
                        <h2>Earnings Calendar</h2>
                    </div>
                    <div id="earningsContent"></div>
                </div>

                <div class="view" id="view-econ">
                    <div class="view-header">
                        <h2>Economic Calendar</h2>
                    </div>
                    <div id="econCalendarContent"></div>
                </div>

                <div class="view" id="view-surface">
                    <div class="view-header">
                        <h2>Vol Surface 3D</h2>
                    </div>
                    <div id="surfaceContent"></div>
                </div>

            </div>
        </main>
    </div>

    <script src="/static/js/app.js"></script>
</body>

</html>